<section>

  <button [routerLink]="['create']">Crear libros</button>

</section>

<div class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100 mt-6">
  <table class="table">
    <!-- head -->
    <thead>
      <tr>
        <th>#</th>
        <th>Titulo</th>
        <th>Descripcion</th>
        <th>Extracto</th>
        <th>Fecha de publicaci√≥n</th>
      </tr>
    </thead>

    <tbody>
      @for (book of books(); track book.id; let i = $index) {
      <tr>
        <th>{{i + 1}}</th>
        <td>{{book.title}}</td>
        <td>{{book.description}}</td>
        <td>{{book.excerpt}}</td>
        <td>{{book.publishDate}}</td>
        <td [routerLink]="['details', book.id]" class="link-primary cursor-pointer">Detalles</td>
        <td [routerLink]="['update', book.id]" class="link-primary cursor-pointer">Actualizar</td>
        <td [routerLink]="['delete', book.id]" class="link-primary">Borrar</td>
      </tr>
      }
      @if (errorMessage() ) {
      <tr>
        <td colspan="8" class="text-center">
          {{errorMessage()}}
        </td>
      </tr>
      }

      @if (isLoading())
      {
      <tr>
        <td colspan="8" class="text-center py-4">
          <div role="status" class="flex justify-center items-center">
            <svg aria-hidden="true" class="w-8 h-8 animate-spin text-gray-300 dark:text-gray-600 fill-blue-600"
              viewBox="0 0 100 101" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M100 50.6C100 78.2 77.6 100.6 50 100.6S0 78.2 0 50.6 22.4 0.6 50 0.6 100 22.98 100 50.6zM9.08 50.6c0 23 18.3 41.4 40.9 41.4s40.9-18.4 40.9-41.4-18.3-40.9-40.9-40.9S9.08 27.6 9.08 50.6z"
                fill="currentColor" />
              <path
                d="M93.97 39.04c2.42-.64 3.89-3.13 3.04-5.49-1.71-4.73-4.14-9.18-7.17-13.2-3.97-5.23-8.93-9.63-14.6-12.94-5.67-3.3-11.94-5.46-18.44-6.35-5-.68-10.07-.6-15 .23-2.48.41-3.93 2.91-3.3 5.34.63 2.45 3.11 3.86 5.59 3.52 3.8-.56 7.67-.58 11.5-.05 5.33.72 10.46 2.48 15.09 5.19 4.63 2.7 8.69 6.28 11.92 10.59 2.34 3.07 4.22 6.45 5.6 10 .9 2.34 3.36 3.81 5.78 3.17z"
                fill="currentFill" />
            </svg>
          </div>
        </td>
      </tr>
      }

    </tbody>

  </table>
</div>